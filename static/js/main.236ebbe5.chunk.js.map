{"version":3,"sources":["actions/authedUser.js","components/Nav.js","components/Block.js","components/QuestionBox.js","utils/helper.js","components/Home.js","utils/_DATA.js","utils/api.js","actions/questions.js","components/Question.js","components/NewQuestion.js","components/Leaderboard.js","components/NotFound.js","actions/shared.js","actions/users.js","components/Login.js","components/App.js","reducers/index.js","reducers/authedUser.js","reducers/questions.js","reducers/users.js","middleware/index.js","middleware/logger.js","index.js","utils/registerServiceWorker.js"],"names":["setAuthedUser","userId","type","Nav","logOut_click","e","preventDefault","dispatch","props","history","push","this","user","authedUser","className","exact","to","activeClassName","onClick","name","Component","withRouter","connect","users","Block","title","imageInfo","innerContent","corner","centerTitle","style","textAlign","src","url","alt","QuestionBox","question","author","answered","fullText","optionOne","text","optionTwo","displayText","length","substr","buttonText","avatarURL","id","findPick","q","votes","includes","Home","state","tab","unanswered","questions","lister","list","done","map","ques","auth","key","setState","Object","keys","forEach","choice","comp","a","b","timestamp","sort","sarahedo","answers","tylermcginnis","johndoe","_saveQuestion","Promise","res","rej","formattedQuestion","optionOneText","optionTwoText","Math","random","toString","substring","Date","now","formatQuestion","setTimeout","concat","saveQuestionAnswer","info","qid","answer","_saveQuestionAnswer","handleAddQuestion","showLoading","saveQuestion","then","addQuestion","hideLoading","callback","catch","alert","handleAnswerQuestion","answerQuestion","ProgressBar","option","total","highlight","p","toFixed","percent","width","position","QuestionOption","selected","checked","onChange","value","htmlFor","Question","target","disabled","match","params","NewQuestion","updateOptionOne","updateOptionTwo","noneEmpty","trim","placeholder","Leaderboard","userIds","i","n","score","NotFound","handleInitialData","all","receiveUsers","receiveQuestions","Login","login_click","select_change","onSubmit","App","loading","basename","process","path","component","loadingBar","default","combineReducers","action","loadingBarReducer","applyMiddleware","thunk","store","next","console","group","log","returnValue","getState","groupEnd","createStore","reducer","middleware","ReactDOM","render","StrictMode","document","getElementById","navigator","window","addEventListener","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","error"],"mappings":"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","file":"static/js/main.236ebbe5.chunk.js","sourcesContent":["export const SET_AUTHED_USER = 'SET_AUTHED_USER';\r\n\r\nexport function setAuthedUser(userId) {\r\n    return {\r\n        type: SET_AUTHED_USER,\r\n        userId\r\n    }\r\n}\r\n\r\nexport function clearAuthedUser() {\r\n    return{\r\n        type: SET_AUTHED_USER,\r\n        userId: null\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {NavLink, withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {clearAuthedUser} from \"../actions/authedUser\";\r\n\r\nclass Nav extends Component {\r\n    logOut_click = (e) => {\r\n        e.preventDefault();\r\n\r\n        const {dispatch} = this.props;\r\n        dispatch(clearAuthedUser());\r\n        this.props.history.push('/login');\r\n    };\r\n\r\n    render() {\r\n        const {user, authedUser} = this.props;\r\n        return (\r\n            <ul className=\"nav-bar\">\r\n                <span className=\"nav-bar-title nav-bar-left\">Would You Rather?</span>\r\n                <li className=\"nav-bar-left\">\r\n                    <NavLink className=\"nav-bar-link\" exact to='/' activeClassName='nav-bar-active'>Home</NavLink>\r\n                </li>\r\n                <li className=\"nav-bar-left\">\r\n                    <NavLink className=\"nav-bar-link\" to=\"/add\" activeClassName='nav-bar-active'>New Question</NavLink>\r\n                </li>\r\n                <li className=\"nav-bar-left\">\r\n                    <NavLink className=\"nav-bar-link\" to=\"/leaderboard\"\r\n                             activeClassName='nav-bar-active'>Leaderboard</NavLink>\r\n                </li>\r\n                <li className=\"nav-bar-right\">\r\n                    {authedUser ?\r\n                        <span className=\"nav-bar-link\"\r\n                              onClick={this.logOut_click}>Logout</span>\r\n                        :\r\n                        <NavLink className=\"nav-bar-link\" to=\"/login\" activeClassName='nav-bar-active'>Login</NavLink>\r\n                    }\r\n\r\n                </li>\r\n                {authedUser && <span className=\"nav-bar-text nav-bar-right\">Hello {user ? user.name : authedUser}</span>}\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({users, authedUser}) {\r\n    return {authedUser, user: users[authedUser]};\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(Nav));","import React from \"react\";\r\n\r\nexport default function Block(props) {\r\n    const {title, imageInfo, innerContent, corner, centerTitle} = props;\r\n    return (\r\n        <div className='block-box'>\r\n            {corner && <div className='block-corner'>{corner}</div>}\r\n            {title && <div style={{textAlign:centerTitle?'center':'auto'}} className='block-bar'>{title}</div>}\r\n            <div className='block-body'>\r\n                {imageInfo && <div className='block-image-wrapper'>\r\n                    <div className='block-image'>\r\n                        <img src={imageInfo.url} alt={imageInfo.alt}/>\r\n                    </div>\r\n                </div>}\r\n                <div className='block-content'>\r\n                    {innerContent}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {Component, Fragment} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport Block from \"./Block\";\r\n\r\nclass QuestionBox extends Component {\r\n    render() {\r\n        const {question, author, answered} = this.props;\r\n        const fullText = `${question.optionOne.text} or ${question.optionTwo.text}`;\r\n        const displayText = fullText.length > 20 ? `${fullText.substr(0, 27)}...` : fullText;\r\n        const buttonText = answered ? 'Go to poll' : 'View';\r\n        return (\r\n            <Block title={`${author.name} asks`} imageInfo={{url: author.avatarURL, alt: author.name}} innerContent={\r\n                <Fragment>\r\n                    <h3>Would you rather</h3>\r\n                    {displayText}\r\n                    <Link to={`/q/${question.id}`}>\r\n                        <button className='block-content-button'>{buttonText}</button>\r\n                    </Link>\r\n                </Fragment>\r\n            }/>\r\n        )\r\n    }\r\n}\r\n\r\nexport default QuestionBox;","export function findPick(q, userId) {\r\n    if (q.optionOne.votes.includes(userId)) return 1;\r\n    if (q.optionTwo.votes.includes(userId)) return 2;\r\n    return 0;\r\n}\r\n\r\n//ES6 lambda to add proper suffix by @Camilo Martin\r\n//export const nth = n => n + (n % 10 === 1 && n % 100 !== 11 ? 'st' : n % 10 === 2 && n % 100 !== 12 ? 'nd' : n % 10 === 3 && n % 100 !== 13 ? 'rd' : 'th');\r\n\r\n\r\nexport const nth = n => n + (n % 100 - n % 10 === 10 || n % 10 < 1 || n % 10 > 3 ? 'th' : [0, 'st', 'nd', 'rd'][n % 10]);","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport QuestionBox from \"./QuestionBox\";\r\nimport {findPick} from \"../utils/helper\";\r\n\r\nclass Home extends Component {\r\n    state = {\r\n        tab: 0\r\n    };\r\n\r\n    render() {\r\n        if (!this.props.authedUser) return <Redirect to='/login'/>;\r\n\r\n        const {answered, unanswered, questions, users} = this.props;\r\n\r\n        const lister = (list, done) => {\r\n            if (list.length === 0)\r\n                return (\r\n                    <div className=\"block-content-center\">\r\n                        No questions! Why not <Link to='/add'>add a new one</Link>?\r\n                    </div>\r\n                );\r\n            return list.map(q => {\r\n                    const ques = questions[q.id];\r\n                    const auth = users[ques.author];\r\n                    return (\r\n                        <li key={q.id}>\r\n                            <QuestionBox question={ques} author={auth} answered={done}/>\r\n                        </li>\r\n                    );\r\n                }\r\n            )\r\n        };\r\n\r\n        const {tab} = this.state;\r\n        return (\r\n            <div className=\"window\">\r\n                <div className=\"tab-bar\">\r\n                    <button className={`tab-link ${tab === 0 && 'active'}`}\r\n                            onClick={() => this.setState({tab: 0})}>Unanswered\r\n                    </button>\r\n                    <button className={`tab-link ${tab === 1 && 'active'}`}\r\n                            onClick={() => this.setState({tab: 1})}>Answered\r\n                    </button>\r\n                </div>\r\n                {tab === 0 ?\r\n                    <div className='tab-window'>\r\n                        <ul className='view-block'>\r\n                            {lister(unanswered, false)}\r\n                        </ul>\r\n                    </div> :\r\n                    <div className='tab-window'>\r\n                        <ul className='view-block'>\r\n                            {lister(answered, true)}\r\n                        </ul>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({authedUser, users, questions}) {\r\n    if (authedUser === null) return {authedUser: null};\r\n\r\n    let answered = [];\r\n    let unanswered = [];\r\n    Object.keys(questions).forEach(id => {\r\n        const choice = findPick(questions[id], authedUser);\r\n        if (choice !== 0) answered.push({id, choice});\r\n        else unanswered.push({id, choice: 0});\r\n    });\r\n    const comp = (a, b) => (questions[b.id].timestamp - questions[a.id].timestamp);\r\n    answered.sort(comp);\r\n    unanswered.sort(comp);\r\n    return {\r\n        authedUser,\r\n        users,\r\n        questions,\r\n        answered,\r\n        unanswered,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Home);","let users = {\r\n    sarahedo: {\r\n        id: 'sarahedo',\r\n        name: 'Sarah Edo',\r\n        avatarURL:'https://image.flaticon.com/icons/svg/761/761842.svg',\r\n        answers: {\r\n            \"8xf0y6ziyjabvozdd253nd\": 'optionOne',\r\n            \"6ni6ok3ym7mf1p33lnez\": 'optionTwo',\r\n            \"am8ehyc8byjqgar0jgpub9\": 'optionTwo',\r\n            \"loxhs1bqm25b708cmbf3g\": 'optionTwo'\r\n        },\r\n        questions: ['8xf0y6ziyjabvozdd253nd', 'am8ehyc8byjqgar0jgpub9']\r\n    },\r\n    tylermcginnis: {\r\n        id: 'tylermcginnis',\r\n        name: 'Tyler McGinnis',\r\n        avatarURL:'https://image.flaticon.com/icons/svg/828/828785.svg',\r\n        answers: {\r\n            \"vthrdm985a262al8qx3do\": 'optionOne',\r\n            \"xj352vofupe1dqz9emx13r\": 'optionTwo',\r\n        },\r\n        questions: ['loxhs1bqm25b708cmbf3g', 'vthrdm985a262al8qx3do'],\r\n    },\r\n    johndoe: {\r\n        id: 'johndoe',\r\n        name: 'John Doe',\r\n        avatarURL:'https://image.flaticon.com/icons/svg/828/828775.svg',\r\n        answers: {\r\n            \"xj352vofupe1dqz9emx13r\": 'optionOne',\r\n            \"vthrdm985a262al8qx3do\": 'optionTwo',\r\n            \"6ni6ok3ym7mf1p33lnez\": 'optionTwo'\r\n        },\r\n        questions: ['6ni6ok3ym7mf1p33lnez', 'xj352vofupe1dqz9emx13r'],\r\n    }\r\n};\r\n\r\nlet questions = {\r\n    \"8xf0y6ziyjabvozdd253nd\": {\r\n        id: '8xf0y6ziyjabvozdd253nd',\r\n        author: 'sarahedo',\r\n        timestamp: 1467166872634,\r\n        optionOne: {\r\n            votes: ['sarahedo'],\r\n            text: 'have horrible short term memory',\r\n        },\r\n        optionTwo: {\r\n            votes: [],\r\n            text: 'have horrible long term memory'\r\n        }\r\n    },\r\n    \"6ni6ok3ym7mf1p33lnez\": {\r\n        id: '6ni6ok3ym7mf1p33lnez',\r\n        author: 'johndoe',\r\n        timestamp: 1468479767190,\r\n        optionOne: {\r\n            votes: [],\r\n            text: 'become a superhero',\r\n        },\r\n        optionTwo: {\r\n            votes: ['johndoe', 'sarahedo'],\r\n            text: 'become a supervillain'\r\n        }\r\n    },\r\n    \"am8ehyc8byjqgar0jgpub9\": {\r\n        id: 'am8ehyc8byjqgar0jgpub9',\r\n        author: 'sarahedo',\r\n        timestamp: 1488579767190,\r\n        optionOne: {\r\n            votes: [],\r\n            text: 'be telekinetic',\r\n        },\r\n        optionTwo: {\r\n            votes: ['sarahedo'],\r\n            text: 'be telepathic'\r\n        }\r\n    },\r\n    \"loxhs1bqm25b708cmbf3g\": {\r\n        id: 'loxhs1bqm25b708cmbf3g',\r\n        author: 'tylermcginnis',\r\n        timestamp: 1482579767190,\r\n        optionOne: {\r\n            votes: [],\r\n            text: 'be a front-end developer',\r\n        },\r\n        optionTwo: {\r\n            votes: ['sarahedo'],\r\n            text: 'be a back-end developer'\r\n        }\r\n    },\r\n    \"vthrdm985a262al8qx3do\": {\r\n        id: 'vthrdm985a262al8qx3do',\r\n        author: 'tylermcginnis',\r\n        timestamp: 1489579767190,\r\n        optionOne: {\r\n            votes: ['tylermcginnis'],\r\n            text: 'find $50 yourself',\r\n        },\r\n        optionTwo: {\r\n            votes: ['johndoe'],\r\n            text: 'have your best friend find $500'\r\n        }\r\n    },\r\n    \"xj352vofupe1dqz9emx13r\": {\r\n        id: 'xj352vofupe1dqz9emx13r',\r\n        author: 'johndoe',\r\n        timestamp: 1493579767190,\r\n        optionOne: {\r\n            votes: ['johndoe'],\r\n            text: 'write JavaScript',\r\n        },\r\n        optionTwo: {\r\n            votes: ['tylermcginnis'],\r\n            text: 'write Swift'\r\n        }\r\n    },\r\n};\r\n\r\nfunction generateUID() {\r\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\r\n}\r\n\r\nexport function _getUsers() {\r\n    return new Promise((res, rej) => {\r\n        setTimeout(() => res({...users}), 1000)\r\n    })\r\n}\r\n\r\nexport function _getQuestions() {\r\n    return new Promise((res, rej) => {\r\n        setTimeout(() => res({...questions}), 1000)\r\n    })\r\n}\r\n\r\nfunction formatQuestion({optionOneText, optionTwoText, author}) {\r\n    return {\r\n        id: generateUID(),\r\n        timestamp: Date.now(),\r\n        author,\r\n        optionOne: {\r\n            votes: [],\r\n            text: optionOneText,\r\n        },\r\n        optionTwo: {\r\n            votes: [],\r\n            text: optionTwoText,\r\n        }\r\n    }\r\n}\r\n\r\nexport function _saveQuestion(question) {\r\n    return new Promise((res, rej) => {\r\n        const authedUser = question.author;\r\n        const formattedQuestion = formatQuestion(question);\r\n\r\n        setTimeout(() => {\r\n            questions = {\r\n                ...questions,\r\n                [formattedQuestion.id]: formattedQuestion\r\n            };\r\n\r\n            users = {\r\n                ...users,\r\n                [authedUser]: {\r\n                    ...users[authedUser],\r\n                    questions: users[authedUser].questions.concat([formattedQuestion.id])\r\n                }\r\n            };\r\n\r\n            res(formattedQuestion)\r\n        }, 1000)\r\n    })\r\n}\r\n\r\nexport function _saveQuestionAnswer({authedUser, qid, answer}) {\r\n    return new Promise((res, rej) => {\r\n        setTimeout(() => {\r\n            users = {\r\n                ...users,\r\n                [authedUser]: {\r\n                    ...users[authedUser],\r\n                    answers: {\r\n                        ...users[authedUser].answers,\r\n                        [qid]: answer\r\n                    }\r\n                }\r\n            };\r\n\r\n            questions = {\r\n                ...questions,\r\n                [qid]: {\r\n                    ...questions[qid],\r\n                    [answer]: {\r\n                        ...questions[qid][answer],\r\n                        votes: questions[qid][answer].votes.concat([authedUser])\r\n                    }\r\n                }\r\n            };\r\n\r\n            res()\r\n        }, 500)\r\n    })\r\n}","import {_getQuestions, _getUsers, _saveQuestion, _saveQuestionAnswer} from \"./_DATA\";\r\n\r\nexport function saveQuestion(info) {\r\n    return _saveQuestion(info);\r\n}\r\n\r\nexport function saveQuestionAnswer(info) {\r\n    return _saveQuestionAnswer(info);\r\n}\r\n\r\nexport function getInitialData() {\r\n    return Promise.all([\r\n        _getUsers(),\r\n        _getQuestions(),\r\n    ]).then(([users, questions]) => ({\r\n        users,\r\n        questions,\r\n    }))\r\n}","import {hideLoading, showLoading} from \"react-redux-loading\";\r\nimport {saveQuestion, saveQuestionAnswer} from \"../utils/api\";\r\n\r\nexport const RECEIVE_QUESTIONS = 'RECEIVE_QUESTIONS';\r\n\r\nexport function receiveQuestions(questions) {\r\n    return {\r\n        type: RECEIVE_QUESTIONS,\r\n        questions,\r\n    }\r\n}\r\n\r\nexport const ADD_QUESTION = 'ADD_QUESTION';\r\n\r\nfunction addQuestion(question) {\r\n    return {\r\n        type: ADD_QUESTION,\r\n        question,\r\n    }\r\n}\r\n\r\n//{optionOneText, optionTwoText, author, callback}\r\nexport function handleAddQuestion(info) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading());\r\n        saveQuestion(info).then(question => {\r\n            dispatch(addQuestion(question));\r\n            dispatch(hideLoading());\r\n            info.callback(question.id);\r\n        }).catch(() => {\r\n            alert(\"An error occurred, please retry again.\");\r\n        })\r\n    }\r\n}\r\n\r\nexport const ANSWER_QUESTION = 'ANSWER_QUESTION';\r\n\r\nfunction answerQuestion(info) {\r\n    return {\r\n        type: ANSWER_QUESTION,\r\n        info,\r\n    }\r\n}\r\n\r\n//{authedUser, qid, answer}\r\nexport function handleAnswerQuestion(info) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading());\r\n        saveQuestionAnswer(info).then(() => {\r\n            dispatch(answerQuestion(info));\r\n            dispatch(hideLoading());\r\n        })\r\n    }\r\n}","import React, {Component, Fragment} from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {findPick} from \"../utils/helper\";\r\nimport Block from \"./Block\";\r\nimport {handleAnswerQuestion} from \"../actions/questions\";\r\n\r\nconst ProgressBar = ({option, total, highlight}) => {\r\n    const votes = option.votes.length;\r\n    const p = (votes * 100 / total).toFixed(1);\r\n    const percent = `${p}%`;\r\n\r\n    return (\r\n        <div className=\"progress-box\">\r\n            {highlight && <div className='progress-corner'>âœ“</div>}\r\n            {option.text}\r\n            <div className=\"progress-border\">\r\n                {!(p >= 10) && <div style={{width: '100%', position: 'absolute'}}>{percent}</div>}\r\n                <div style={{width: percent}}\r\n                     className={`progress-fill ${highlight && 'highlight'}`}>{(p >= 10) && percent}</div>\r\n            </div>\r\n            <div className=\"progress-text\">{`${votes} out of ${total} votes`}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst QuestionOption = ({selected, option, text, callback}) => (\r\n    <div>\r\n        <input checked={selected === option}\r\n               onChange={callback}\r\n               className=\"block-option-radio\" type=\"radio\"\r\n               value={option} id={option}/>\r\n        <label className=\"block-option-label\"\r\n               htmlFor={option}>{text}</label>\r\n    </div>\r\n);\r\n\r\nclass Question extends Component {\r\n    state = {\r\n        selected: null\r\n    };\r\n    onChange = (e) => {\r\n        this.setState({selected: e.target.value});\r\n    };\r\n    onClick = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.selected === null) return;\r\n\r\n        const {authedUser} = this.props;\r\n        const qid = this.props.question.id;\r\n        const answer = 'option' + this.state.selected;\r\n        this.props.dispatch(handleAnswerQuestion({authedUser, qid, answer}))\r\n    };\r\n\r\n    render() {\r\n        const {question, author, choice, authedUser} = this.props;\r\n        const {selected} = this.state;\r\n        if (!authedUser) return <Redirect to='/'/>;\r\n\r\n        if (!question) return <Redirect to='/404'/>;\r\n\r\n        const questionAnswer = () => (<Fragment>\r\n            <h3>Would you rather</h3>\r\n            <form>\r\n                <QuestionOption selected={selected} option='One' text={question.optionOne.text}\r\n                                callback={this.onChange}/>\r\n                <p className='block-content-center'>Or</p>\r\n                <QuestionOption selected={selected} option='Two' text={question.optionTwo.text}\r\n                                callback={this.onChange}/>\r\n                <button onClick={this.onClick} disabled={!selected} className='block-content-button'>Vote</button>\r\n            </form>\r\n        </Fragment>);\r\n\r\n        const total = question.optionOne.votes.length + question.optionTwo.votes.length;\r\n\r\n        const questionPoll = () => (\r\n            <Fragment>\r\n                <h3>Would you rather</h3>\r\n                <ProgressBar highlight={choice === 1} option={question.optionOne} total={total}/>\r\n                <p className='block-content-center'>Or</p>\r\n                <ProgressBar highlight={choice === 2} option={question.optionTwo} total={total}/>\r\n            </Fragment>\r\n        );\r\n\r\n        return (\r\n            <div className='window'>\r\n                <Block title={`${author.name} asks`}\r\n                       imageInfo={{url: author.avatarURL, alt: author.name}}\r\n                       innerContent={choice ? questionPoll() : questionAnswer()}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({questions, users, authedUser}, {match}) {\r\n    if (authedUser === null) return {authedUser: null};\r\n    const {id} = match.params;\r\n    const question = questions[id];\r\n    if (!question) return {authedUser, question: null};\r\n\r\n    const author = users[question.author];\r\n    const choice = findPick(question, authedUser);\r\n    return {\r\n        question,\r\n        author,\r\n        choice,\r\n        authedUser\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Question);","import React, {Component} from 'react';\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport Block from \"./Block\";\r\nimport {handleAddQuestion} from \"../actions/questions\";\r\n\r\nclass NewQuestion extends Component {\r\n    state = {\r\n        optionOneText: '',\r\n        optionTwoText: ''\r\n    };\r\n    updateOptionOne = (e) => (this.setState({optionOneText: e.target.value}));\r\n    updateOptionTwo = (e) => (this.setState({optionTwoText: e.target.value}));\r\n    noneEmpty = () => (this.state.optionOneText.trim() && this.state.optionTwoText.trim());\r\n\r\n    onClick = (e) => {\r\n        e.preventDefault();\r\n        const {authedUser, history} = this.props;\r\n        const {optionOneText, optionTwoText} = this.state;\r\n        const callback = (id) => history.push(`/q/${id}`);\r\n        this.props.dispatch(handleAddQuestion({author: authedUser, optionOneText, optionTwoText, callback}));\r\n    };\r\n\r\n    render() {\r\n        if (!this.props.authedUser) return <Redirect to='/login'/>;\r\n        const {optionOneText, optionTwoText} = this.state;\r\n        return (\r\n            <div className=\"window\">\r\n                <Block title=\"Create New Question\" innerContent={\r\n                    <form>\r\n                        <h3>Would you rather...</h3>\r\n                        <input className=\"block-input\" type=\"text\" onChange={this.updateOptionOne} value={optionOneText}\r\n                               placeholder=\"Enter first option here\"/>\r\n                        <p className='block-content-center'>Or</p>\r\n                        <input className=\"block-input\" type=\"text\" onChange={this.updateOptionTwo} value={optionTwoText}\r\n                               placeholder=\"Enter first option here\"/>\r\n                        <button onClick={this.onClick} disabled={!this.noneEmpty()}\r\n                                className='block-content-button'>Submit\r\n                        </button>\r\n                    </form>\r\n                }/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(({authedUser}) => ({authedUser}))(NewQuestion));","import React, {Component, Fragment} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Block from \"./Block\";\r\nimport {nth} from \"../utils/helper\";\r\n\r\nclass Leaderboard extends Component {\r\n    render() {\r\n        const {userIds, users} = this.props;\r\n        return (\r\n            <div className=\"window\">\r\n                <ol className='view-block'>\r\n\r\n                    {userIds.map((id, i) => {\r\n                        const user = users[id];\r\n                        const answers = Object.keys(user.answers).length;\r\n                        const questions = user.questions.length;\r\n\r\n                        return (\r\n                            <li key={id}>\r\n                                <Block centerTitle corner={nth(i + 1)} imageInfo={{url: user.avatarURL, alt: user.name}}\r\n                                       title={user.name}\r\n                                       innerContent={\r\n                                           <Fragment>\r\n                                               <div>Answered Questions: {answers}</div>\r\n                                               <div>Created Questions: {questions}</div>\r\n                                               <div>Total Score: {answers + questions}</div>\r\n                                           </Fragment>\r\n                                       }/>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ol>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps({users}) {\r\n    let userIds = Object.keys(users);\r\n\r\n    const score = (user) => (user.questions.length + Object.keys(user.answers).length);\r\n\r\n    userIds.sort((a, b) => score(users[b]) - score(users[a]));\r\n\r\n    return {\r\n        userIds,\r\n        users\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Leaderboard);","import React, {Component} from 'react';\r\n\r\nclass NotFound extends Component{\r\n    render(){\r\n        return (\r\n            <div>\r\n                404 Not Found\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NotFound;","import {hideLoading, showLoading} from \"react-redux-loading\";\r\nimport {getInitialData} from \"../utils/api\";\r\nimport {receiveUsers} from \"./users\";\r\nimport {receiveQuestions} from \"./questions\";\r\n\r\nexport function handleInitialData() {\r\n    return (dispatch) => {\r\n        dispatch(showLoading());\r\n        getInitialData().then(({users, questions})=>{\r\n            dispatch(receiveUsers(users));\r\n            dispatch(receiveQuestions(questions));\r\n            dispatch(hideLoading());\r\n        }).catch(()=>{\r\n            alert(\"An error occurred, please refresh the page\");\r\n        })\r\n    }\r\n}","export const RECEIVE_USERS = 'RECEIVE_USERS';\r\n\r\nexport function receiveUsers(users) {\r\n    return {\r\n        type: RECEIVE_USERS,\r\n        users,\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {setAuthedUser} from \"../actions/authedUser\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Block from \"./Block\";\r\n\r\nclass Login extends Component {\r\n    state = {\r\n        selected: 'none',\r\n    };\r\n\r\n    login_click = (e) => {\r\n        e.preventDefault();\r\n\r\n        const {selected} = this.state;\r\n        this.props.dispatch(setAuthedUser(selected));\r\n    };\r\n\r\n    select_change = (e) => {\r\n        this.setState({selected: e.target.value});\r\n    };\r\n\r\n    render() {\r\n        const {selected} = this.state;\r\n        const {authedUser} = this.props;\r\n        if (authedUser) return <Redirect to='/'/>;\r\n\r\n        const {users} = this.props;\r\n        return (\r\n            <div className=\"window\">\r\n                <Block title=\"Login\" centerTitle innerContent={\r\n                    <form onSubmit={this.login_click}>\r\n                        <h3>Login as:</h3>\r\n                        <select className=\"block-input\" value={selected} onChange={this.select_change}>\r\n                            <option value=\"none\" disabled>Select a user</option>\r\n                            {\r\n                                Object.keys(users).map(user =>\r\n                                    <option key={user} value={user}>{users[user].name}</option>\r\n                                )\r\n                            }\r\n                        </select>\r\n                        <button className='block-content-button' disabled={selected === 'none'} type=\"submit\">Login</button>\r\n                    </form>\r\n                }/>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(({users, authedUser}) => ({users, authedUser}))(Login);","import React, {Component, Fragment} from 'react';\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\nimport Nav from './Nav';\nimport Home from './Home';\nimport Question from './Question';\nimport NewQuestion from './NewQuestion';\nimport Leaderboard from './Leaderboard';\nimport NotFound from './NotFound';\nimport {connect} from \"react-redux\";\nimport {handleInitialData} from \"../actions/shared\";\nimport LoadingBar from 'react-redux-loading';\nimport Login from \"./Login\";\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.dispatch(handleInitialData());\n    }\n\n    render() {\n        const {loading} = this.props;\n        return (\n            <BrowserRouter basename={process.env.PUBLIC_URL}>\n                <Fragment>\n                    <LoadingBar/>\n                    <Nav/>\n                    <div className=\"body\">\n                        {!loading && <Switch>\n                            <Route exact path='/' component={Home}/>\n                            <Route path='/q/:id' component={Question}/>\n                            <Route exact path='/add' component={NewQuestion}/>\n                            <Route exact path='/leaderboard' component={Leaderboard}/>\n                            <Route exact path='/login' component={Login}/>\n                            <Route component={NotFound}/>\n                        </Switch>\n                        }\n                    </div>\n                </Fragment>\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default connect(({loadingBar}) => ({loading: loadingBar.default !== 0}))(App);\n","import {combineReducers} from 'redux';\r\nimport authedUser from './authedUser';\r\nimport questions from './questions';\r\nimport users from './users';\r\nimport {loadingBarReducer} from \"react-redux-loading\";\r\n\r\nexport default combineReducers({\r\n    authedUser,\r\n    questions,\r\n    users,\r\n    loadingBar: loadingBarReducer\r\n});","import {SET_AUTHED_USER} from \"../actions/authedUser\";\r\n\r\nexport default function authedUser(state = null, action) {\r\n    switch (action.type) {\r\n        case SET_AUTHED_USER:\r\n            return action.userId;\r\n        default:\r\n            return state;\r\n    }\r\n}","import {ADD_QUESTION, ANSWER_QUESTION, RECEIVE_QUESTIONS} from \"../actions/questions\";\r\n\r\nexport default function questions(state = {}, action) {\r\n    switch(action.type){\r\n        case RECEIVE_QUESTIONS:\r\n            return {...action.questions};\r\n        case ADD_QUESTION:\r\n            return {\r\n                ...state,\r\n                [action.question.id]: action.question\r\n            };\r\n        case ANSWER_QUESTION:\r\n            const {authedUser, qid, answer} = action.info;\r\n            return {\r\n                ...state,\r\n                [qid]: {\r\n                    ...state[qid],\r\n                    [answer]: {\r\n                        ...state[qid][answer],\r\n                        votes: state[qid][answer].votes.concat([authedUser])\r\n                    }\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {RECEIVE_USERS} from \"../actions/users\";\r\nimport {ADD_QUESTION, ANSWER_QUESTION} from \"../actions/questions\";\r\n\r\nexport default function users(state = {}, action) {\r\n    switch (action.type) {\r\n        case RECEIVE_USERS:\r\n            return {...action.users};\r\n        case ADD_QUESTION:\r\n            const {author, id} = action.question;\r\n            return {\r\n                ...state,\r\n                [author]: {\r\n                    ...state[author],\r\n                    questions: state[author].questions.concat([id])\r\n                }\r\n            };\r\n        case ANSWER_QUESTION:\r\n            const {authedUser, qid, answer} = action.info;\r\n            return {\r\n                ...state,\r\n                [authedUser]: {\r\n                    ...state[authedUser],\r\n                    answers: {\r\n                        ...state[authedUser].answers,\r\n                        [qid]: answer\r\n                    }\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {applyMiddleware} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport logger from \"./logger\";\r\n\r\nexport default applyMiddleware(thunk, logger);","export default (store) => (next) => (action) => {\r\n    console.group(action.type);\r\n    console.log(\"The action:\", action);\r\n    const returnValue = next(action);\r\n    console.log(\"The new state:\", store.getState());\r\n    console.groupEnd();\r\n    return returnValue;\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport {createStore} from \"redux\";\nimport reducer from \"./reducers\";\nimport middleware from \"./middleware\";\nimport {Provider} from \"react-redux\";\nimport './index.css'\nimport registerServiceWorker from \"./utils/registerServiceWorker\";\n\nconst store = createStore(reducer, middleware);\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>\n    ,\n    document.getElementById('root')\n);\nregisterServiceWorker();","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n      navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n          registration.onupdatefound = () => {\r\n            const installingWorker = registration.installing;\r\n            installingWorker.onstatechange = () => {\r\n              if (installingWorker.state === 'installed') {\r\n                if (navigator.serviceWorker.controller) {\r\n                  // At this point, the old content will have been purged and\r\n                  // the fresh content will have been added to the cache.\r\n                  // It's the perfect time to display a \"New content is\r\n                  // available; please refresh.\" message in your web app.\r\n                  console.log('New content is available; please refresh.');\r\n                } else {\r\n                  // At this point, everything has been precached.\r\n                  // It's the perfect time to display a\r\n                  // \"Content is cached for offline use.\" message.\r\n                  console.log('Content is cached for offline use.');\r\n                }\r\n              }\r\n            };\r\n          };\r\n        })\r\n        .catch(error => {\r\n          console.error('Error during service worker registration:', error);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}