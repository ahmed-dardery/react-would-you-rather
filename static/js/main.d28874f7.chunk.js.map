{"version":3,"sources":["actions/authedUser.js","components/Nav.js","components/Block.js","components/QuestionBox.js","utils/helper.js","components/Home.js","utils/_DATA.js","utils/api.js","actions/questions.js","components/Question.js","components/NewQuestion.js","components/Leaderboard.js","components/NotFound.js","actions/shared.js","actions/users.js","components/Login.js","components/App.js","reducers/index.js","reducers/authedUser.js","reducers/questions.js","reducers/users.js","middleware/index.js","middleware/logger.js","index.js","utils/registerServiceWorker.js"],"names":["setAuthedUser","userId","type","Nav","logOut_click","e","preventDefault","props","dispatch","history","push","location","this","user","authedUser","className","exact","to","activeClassName","onClick","name","Component","withRouter","connect","users","Block","title","imageInfo","innerContent","corner","centerTitle","style","textAlign","src","url","alt","QuestionBox","question","author","answered","fullText","optionOne","text","optionTwo","displayText","length","substr","buttonText","avatarURL","id","findPick","q","votes","includes","Home","state","tab","unanswered","questions","pathname","lister","list","done","map","ques","auth","key","setState","Object","keys","forEach","choice","comp","a","b","timestamp","sort","sarahedo","answers","tylermcginnis","johndoe","_saveQuestion","Promise","res","rej","formattedQuestion","optionOneText","optionTwoText","Math","random","toString","substring","Date","now","formatQuestion","setTimeout","concat","saveQuestionAnswer","info","qid","answer","_saveQuestionAnswer","handleAddQuestion","showLoading","saveQuestion","then","addQuestion","hideLoading","callback","catch","alert","handleAnswerQuestion","answerQuestion","ProgressBar","option","total","highlight","p","toFixed","percent","width","position","QuestionOption","selected","checked","onChange","value","htmlFor","Question","target","disabled","match","params","NewQuestion","updateOptionOne","updateOptionTwo","noneEmpty","trim","placeholder","Leaderboard","userIds","i","n","score","NotFound","handleInitialData","all","receiveUsers","receiveQuestions","Login","login_click","select_change","onSubmit","App","loading","basename","process","path","component","loadingBar","default","combineReducers","action","loadingBarReducer","applyMiddleware","thunk","store","next","console","group","log","returnValue","getState","groupEnd","createStore","reducer","middleware","ReactDOM","render","StrictMode","document","getElementById","navigator","window","addEventListener","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","error"],"mappings":"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","file":"static/js/main.d28874f7.chunk.js","sourcesContent":["export const SET_AUTHED_USER = 'SET_AUTHED_USER';\r\n\r\nexport function setAuthedUser(userId) {\r\n    return {\r\n        type: SET_AUTHED_USER,\r\n        userId\r\n    }\r\n}\r\n\r\nexport function clearAuthedUser() {\r\n    return{\r\n        type: SET_AUTHED_USER,\r\n        userId: null\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {NavLink, withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {clearAuthedUser} from \"../actions/authedUser\";\r\n\r\nclass Nav extends Component {\r\n    logOut_click = (e) => {\r\n        e.preventDefault();\r\n\r\n        const {dispatch, history} = this.props;\r\n        dispatch(clearAuthedUser());\r\n        history.push('/login', history.location);\r\n    };\r\n\r\n    render() {\r\n        const {user, authedUser} = this.props;\r\n        return (\r\n            <ul className=\"nav-bar\">\r\n                <span className=\"nav-bar-title nav-bar-left\">Would You Rather?</span>\r\n                <li className=\"nav-bar-left\">\r\n                    <NavLink className=\"nav-bar-link\" exact to='/' activeClassName='nav-bar-active'>Home</NavLink>\r\n                </li>\r\n                <li className=\"nav-bar-left\">\r\n                    <NavLink className=\"nav-bar-link\" to=\"/add\" activeClassName='nav-bar-active'>New Question</NavLink>\r\n                </li>\r\n                <li className=\"nav-bar-left\">\r\n                    <NavLink className=\"nav-bar-link\" to=\"/leaderboard\"\r\n                             activeClassName='nav-bar-active'>Leaderboard</NavLink>\r\n                </li>\r\n                <li className=\"nav-bar-right\">\r\n                    {authedUser ?\r\n                        <span className=\"nav-bar-link\"\r\n                              onClick={this.logOut_click}>Logout</span>\r\n                        :\r\n                        <NavLink className=\"nav-bar-link\" to=\"/login\" activeClassName='nav-bar-active'>Login</NavLink>\r\n                    }\r\n\r\n                </li>\r\n                {authedUser && <span className=\"nav-bar-text nav-bar-right\">Hello {user ? user.name : authedUser}</span>}\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({users, authedUser}) {\r\n    return {authedUser, user: users[authedUser]};\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps)(Nav));","import React from \"react\";\r\n\r\nexport default function Block(props) {\r\n    const {title, imageInfo, innerContent, corner, centerTitle} = props;\r\n    return (\r\n        <div className='block-box'>\r\n            {corner && <div className='block-corner'>{corner}</div>}\r\n            {title && <div style={{textAlign:centerTitle?'center':'auto'}} className='block-bar'>{title}</div>}\r\n            <div className='block-body'>\r\n                {imageInfo && <div className='block-image-wrapper'>\r\n                    <div className='block-image'>\r\n                        <img src={imageInfo.url} alt={imageInfo.alt}/>\r\n                    </div>\r\n                </div>}\r\n                <div className='block-content'>\r\n                    {innerContent}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {Component, Fragment} from 'react';\r\nimport {Link} from \"react-router-dom\";\r\nimport Block from \"./Block\";\r\n\r\nclass QuestionBox extends Component {\r\n    render() {\r\n        const {question, author, answered} = this.props;\r\n        const fullText = `${question.optionOne.text} or ${question.optionTwo.text}`;\r\n        const displayText = fullText.length > 20 ? `${fullText.substr(0, 27)}...` : fullText;\r\n        const buttonText = answered ? 'Go to poll' : 'View';\r\n        return (\r\n            <Block title={`${author.name} asks`} imageInfo={{url: author.avatarURL, alt: author.name}} innerContent={\r\n                <Fragment>\r\n                    <h3>Would you rather</h3>\r\n                    {displayText}\r\n                    <Link to={`/q/${question.id}`}>\r\n                        <button className='block-content-button'>{buttonText}</button>\r\n                    </Link>\r\n                </Fragment>\r\n            }/>\r\n        )\r\n    }\r\n}\r\n\r\nexport default QuestionBox;","export function findPick(q, userId) {\r\n    if (q.optionOne.votes.includes(userId)) return 1;\r\n    if (q.optionTwo.votes.includes(userId)) return 2;\r\n    return 0;\r\n}\r\n\r\n//ES6 lambda to add proper suffix by @Camilo Martin\r\n//export const nth = n => n + (n % 10 === 1 && n % 100 !== 11 ? 'st' : n % 10 === 2 && n % 100 !== 12 ? 'nd' : n % 10 === 3 && n % 100 !== 13 ? 'rd' : 'th');\r\n\r\n\r\nexport const nth = n => n + (n % 100 - n % 10 === 10 || n % 10 < 1 || n % 10 > 3 ? 'th' : [0, 'st', 'nd', 'rd'][n % 10]);","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport QuestionBox from \"./QuestionBox\";\r\nimport {findPick} from \"../utils/helper\";\r\n\r\nclass Home extends Component {\r\n    state = {\r\n        tab: 0\r\n    };\r\n\r\n    render() {\r\n        const {answered, unanswered, questions, users, authedUser} = this.props;\r\n\r\n        if (!authedUser) return <Redirect to={{pathname: '/login', state: this.props.location}}/>;\r\n\r\n        const lister = (list, done) => {\r\n            if (list.length === 0)\r\n                return (\r\n                    <div className=\"block-content-center\">\r\n                        No questions! Why not <Link to='/add'>add a new one</Link>?\r\n                    </div>\r\n                );\r\n            return list.map(q => {\r\n                    const ques = questions[q.id];\r\n                    const auth = users[ques.author];\r\n                    return (\r\n                        <li key={q.id}>\r\n                            <QuestionBox question={ques} author={auth} answered={done}/>\r\n                        </li>\r\n                    );\r\n                }\r\n            )\r\n        };\r\n\r\n        const {tab} = this.state;\r\n        return (\r\n            <div className=\"window\">\r\n                <div className=\"tab-bar\">\r\n                    <button className={`tab-link ${tab === 0 && 'active'}`}\r\n                            onClick={() => this.setState({tab: 0})}>Unanswered\r\n                    </button>\r\n                    <button className={`tab-link ${tab === 1 && 'active'}`}\r\n                            onClick={() => this.setState({tab: 1})}>Answered\r\n                    </button>\r\n                </div>\r\n                {tab === 0 ?\r\n                    <div className='tab-window'>\r\n                        <ul className='view-block'>\r\n                            {lister(unanswered, false)}\r\n                        </ul>\r\n                    </div> :\r\n                    <div className='tab-window'>\r\n                        <ul className='view-block'>\r\n                            {lister(answered, true)}\r\n                        </ul>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({authedUser, users, questions}) {\r\n    if (authedUser === null) return {authedUser: null};\r\n\r\n    let answered = [];\r\n    let unanswered = [];\r\n    Object.keys(questions).forEach(id => {\r\n        const choice = findPick(questions[id], authedUser);\r\n        if (choice !== 0) answered.push({id, choice});\r\n        else unanswered.push({id, choice: 0});\r\n    });\r\n    const comp = (a, b) => (questions[b.id].timestamp - questions[a.id].timestamp);\r\n    answered.sort(comp);\r\n    unanswered.sort(comp);\r\n    return {\r\n        authedUser,\r\n        users,\r\n        questions,\r\n        answered,\r\n        unanswered,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Home);","let users = {\r\n    sarahedo: {\r\n        id: 'sarahedo',\r\n        name: 'Sarah Edo',\r\n        avatarURL:'https://image.flaticon.com/icons/svg/761/761842.svg',\r\n        answers: {\r\n            \"8xf0y6ziyjabvozdd253nd\": 'optionOne',\r\n            \"6ni6ok3ym7mf1p33lnez\": 'optionTwo',\r\n            \"am8ehyc8byjqgar0jgpub9\": 'optionTwo',\r\n            \"loxhs1bqm25b708cmbf3g\": 'optionTwo'\r\n        },\r\n        questions: ['8xf0y6ziyjabvozdd253nd', 'am8ehyc8byjqgar0jgpub9']\r\n    },\r\n    tylermcginnis: {\r\n        id: 'tylermcginnis',\r\n        name: 'Tyler McGinnis',\r\n        avatarURL:'https://image.flaticon.com/icons/svg/828/828785.svg',\r\n        answers: {\r\n            \"vthrdm985a262al8qx3do\": 'optionOne',\r\n            \"xj352vofupe1dqz9emx13r\": 'optionTwo',\r\n        },\r\n        questions: ['loxhs1bqm25b708cmbf3g', 'vthrdm985a262al8qx3do'],\r\n    },\r\n    johndoe: {\r\n        id: 'johndoe',\r\n        name: 'John Doe',\r\n        avatarURL:'https://image.flaticon.com/icons/svg/828/828775.svg',\r\n        answers: {\r\n            \"xj352vofupe1dqz9emx13r\": 'optionOne',\r\n            \"vthrdm985a262al8qx3do\": 'optionTwo',\r\n            \"6ni6ok3ym7mf1p33lnez\": 'optionTwo'\r\n        },\r\n        questions: ['6ni6ok3ym7mf1p33lnez', 'xj352vofupe1dqz9emx13r'],\r\n    }\r\n};\r\n\r\nlet questions = {\r\n    \"8xf0y6ziyjabvozdd253nd\": {\r\n        id: '8xf0y6ziyjabvozdd253nd',\r\n        author: 'sarahedo',\r\n        timestamp: 1467166872634,\r\n        optionOne: {\r\n            votes: ['sarahedo'],\r\n            text: 'have horrible short term memory',\r\n        },\r\n        optionTwo: {\r\n            votes: [],\r\n            text: 'have horrible long term memory'\r\n        }\r\n    },\r\n    \"6ni6ok3ym7mf1p33lnez\": {\r\n        id: '6ni6ok3ym7mf1p33lnez',\r\n        author: 'johndoe',\r\n        timestamp: 1468479767190,\r\n        optionOne: {\r\n            votes: [],\r\n            text: 'become a superhero',\r\n        },\r\n        optionTwo: {\r\n            votes: ['johndoe', 'sarahedo'],\r\n            text: 'become a supervillain'\r\n        }\r\n    },\r\n    \"am8ehyc8byjqgar0jgpub9\": {\r\n        id: 'am8ehyc8byjqgar0jgpub9',\r\n        author: 'sarahedo',\r\n        timestamp: 1488579767190,\r\n        optionOne: {\r\n            votes: [],\r\n            text: 'be telekinetic',\r\n        },\r\n        optionTwo: {\r\n            votes: ['sarahedo'],\r\n            text: 'be telepathic'\r\n        }\r\n    },\r\n    \"loxhs1bqm25b708cmbf3g\": {\r\n        id: 'loxhs1bqm25b708cmbf3g',\r\n        author: 'tylermcginnis',\r\n        timestamp: 1482579767190,\r\n        optionOne: {\r\n            votes: [],\r\n            text: 'be a front-end developer',\r\n        },\r\n        optionTwo: {\r\n            votes: ['sarahedo'],\r\n            text: 'be a back-end developer'\r\n        }\r\n    },\r\n    \"vthrdm985a262al8qx3do\": {\r\n        id: 'vthrdm985a262al8qx3do',\r\n        author: 'tylermcginnis',\r\n        timestamp: 1489579767190,\r\n        optionOne: {\r\n            votes: ['tylermcginnis'],\r\n            text: 'find $50 yourself',\r\n        },\r\n        optionTwo: {\r\n            votes: ['johndoe'],\r\n            text: 'have your best friend find $500'\r\n        }\r\n    },\r\n    \"xj352vofupe1dqz9emx13r\": {\r\n        id: 'xj352vofupe1dqz9emx13r',\r\n        author: 'johndoe',\r\n        timestamp: 1493579767190,\r\n        optionOne: {\r\n            votes: ['johndoe'],\r\n            text: 'write JavaScript',\r\n        },\r\n        optionTwo: {\r\n            votes: ['tylermcginnis'],\r\n            text: 'write Swift'\r\n        }\r\n    },\r\n};\r\n\r\nfunction generateUID() {\r\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\r\n}\r\n\r\nexport function _getUsers() {\r\n    return new Promise((res, rej) => {\r\n        setTimeout(() => res({...users}), 1000)\r\n    })\r\n}\r\n\r\nexport function _getQuestions() {\r\n    return new Promise((res, rej) => {\r\n        setTimeout(() => res({...questions}), 1000)\r\n    })\r\n}\r\n\r\nfunction formatQuestion({optionOneText, optionTwoText, author}) {\r\n    return {\r\n        id: generateUID(),\r\n        timestamp: Date.now(),\r\n        author,\r\n        optionOne: {\r\n            votes: [],\r\n            text: optionOneText,\r\n        },\r\n        optionTwo: {\r\n            votes: [],\r\n            text: optionTwoText,\r\n        }\r\n    }\r\n}\r\n\r\nexport function _saveQuestion(question) {\r\n    return new Promise((res, rej) => {\r\n        const authedUser = question.author;\r\n        const formattedQuestion = formatQuestion(question);\r\n\r\n        setTimeout(() => {\r\n            questions = {\r\n                ...questions,\r\n                [formattedQuestion.id]: formattedQuestion\r\n            };\r\n\r\n            users = {\r\n                ...users,\r\n                [authedUser]: {\r\n                    ...users[authedUser],\r\n                    questions: users[authedUser].questions.concat([formattedQuestion.id])\r\n                }\r\n            };\r\n\r\n            res(formattedQuestion)\r\n        }, 1000)\r\n    })\r\n}\r\n\r\nexport function _saveQuestionAnswer({authedUser, qid, answer}) {\r\n    return new Promise((res, rej) => {\r\n        setTimeout(() => {\r\n            users = {\r\n                ...users,\r\n                [authedUser]: {\r\n                    ...users[authedUser],\r\n                    answers: {\r\n                        ...users[authedUser].answers,\r\n                        [qid]: answer\r\n                    }\r\n                }\r\n            };\r\n\r\n            questions = {\r\n                ...questions,\r\n                [qid]: {\r\n                    ...questions[qid],\r\n                    [answer]: {\r\n                        ...questions[qid][answer],\r\n                        votes: questions[qid][answer].votes.concat([authedUser])\r\n                    }\r\n                }\r\n            };\r\n\r\n            res()\r\n        }, 500)\r\n    })\r\n}","import {_getQuestions, _getUsers, _saveQuestion, _saveQuestionAnswer} from \"./_DATA\";\r\n\r\nexport function saveQuestion(info) {\r\n    return _saveQuestion(info);\r\n}\r\n\r\nexport function saveQuestionAnswer(info) {\r\n    return _saveQuestionAnswer(info);\r\n}\r\n\r\nexport function getInitialData() {\r\n    return Promise.all([\r\n        _getUsers(),\r\n        _getQuestions(),\r\n    ]).then(([users, questions]) => ({\r\n        users,\r\n        questions,\r\n    }))\r\n}","import {hideLoading, showLoading} from \"react-redux-loading\";\r\nimport {saveQuestion, saveQuestionAnswer} from \"../utils/api\";\r\n\r\nexport const RECEIVE_QUESTIONS = 'RECEIVE_QUESTIONS';\r\n\r\nexport function receiveQuestions(questions) {\r\n    return {\r\n        type: RECEIVE_QUESTIONS,\r\n        questions,\r\n    }\r\n}\r\n\r\nexport const ADD_QUESTION = 'ADD_QUESTION';\r\n\r\nfunction addQuestion(question) {\r\n    return {\r\n        type: ADD_QUESTION,\r\n        question,\r\n    }\r\n}\r\n\r\n//{optionOneText, optionTwoText, author, callback}\r\nexport function handleAddQuestion(info) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading());\r\n        saveQuestion(info).then(question => {\r\n            dispatch(addQuestion(question));\r\n            dispatch(hideLoading());\r\n            info.callback(question.id);\r\n        }).catch(() => {\r\n            alert(\"An error occurred, please retry again.\");\r\n        })\r\n    }\r\n}\r\n\r\nexport const ANSWER_QUESTION = 'ANSWER_QUESTION';\r\n\r\nfunction answerQuestion(info) {\r\n    return {\r\n        type: ANSWER_QUESTION,\r\n        info,\r\n    }\r\n}\r\n\r\n//{authedUser, qid, answer}\r\nexport function handleAnswerQuestion(info) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading());\r\n        saveQuestionAnswer(info).then(() => {\r\n            dispatch(answerQuestion(info));\r\n            dispatch(hideLoading());\r\n        })\r\n    }\r\n}","import React, {Component, Fragment} from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {findPick} from \"../utils/helper\";\r\nimport Block from \"./Block\";\r\nimport {handleAnswerQuestion} from \"../actions/questions\";\r\n\r\nconst ProgressBar = ({option, total, highlight}) => {\r\n    const votes = option.votes.length;\r\n    const p = (votes * 100 / total).toFixed(1);\r\n    const percent = `${p}%`;\r\n\r\n    return (\r\n        <div className=\"progress-box\">\r\n            {highlight && <div className='progress-corner'>âœ“</div>}\r\n            {option.text}\r\n            <div className=\"progress-border\">\r\n                {!(p >= 10) && <div style={{width: '100%', position: 'absolute'}}>{percent}</div>}\r\n                <div style={{width: percent}}\r\n                     className={`progress-fill ${highlight && 'highlight'}`}>{(p >= 10) && percent}</div>\r\n            </div>\r\n            <div className=\"progress-text\">{`${votes} out of ${total} votes`}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst QuestionOption = ({selected, option, text, callback}) => (\r\n    <div>\r\n        <input checked={selected === option}\r\n               onChange={callback}\r\n               className=\"block-option-radio\" type=\"radio\"\r\n               value={option} id={option}/>\r\n        <label className=\"block-option-label\"\r\n               htmlFor={option}>{text}</label>\r\n    </div>\r\n);\r\n\r\nclass Question extends Component {\r\n    state = {\r\n        selected: null\r\n    };\r\n    onChange = (e) => {\r\n        this.setState({selected: e.target.value});\r\n    };\r\n    onClick = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.selected === null) return;\r\n\r\n        const {authedUser} = this.props;\r\n        const qid = this.props.question.id;\r\n        const answer = 'option' + this.state.selected;\r\n        this.props.dispatch(handleAnswerQuestion({authedUser, qid, answer}))\r\n    };\r\n\r\n    render() {\r\n        const {question, author, choice, authedUser} = this.props;\r\n        const {selected} = this.state;\r\n\r\n        if (!authedUser) return <Redirect to={{pathname: '/login', state: this.props.location}}/>;\r\n        if (!question) return <Redirect to='/404'/>;\r\n\r\n        const questionAnswer = () => (<Fragment>\r\n            <h3>Would you rather</h3>\r\n            <form>\r\n                <QuestionOption selected={selected} option='One' text={question.optionOne.text}\r\n                                callback={this.onChange}/>\r\n                <p className='block-content-center'>Or</p>\r\n                <QuestionOption selected={selected} option='Two' text={question.optionTwo.text}\r\n                                callback={this.onChange}/>\r\n                <button onClick={this.onClick} disabled={!selected} className='block-content-button'>Vote</button>\r\n            </form>\r\n        </Fragment>);\r\n\r\n        const total = question.optionOne.votes.length + question.optionTwo.votes.length;\r\n\r\n        const questionPoll = () => (\r\n            <Fragment>\r\n                <h3>Would you rather</h3>\r\n                <ProgressBar highlight={choice === 1} option={question.optionOne} total={total}/>\r\n                <p className='block-content-center'>Or</p>\r\n                <ProgressBar highlight={choice === 2} option={question.optionTwo} total={total}/>\r\n            </Fragment>\r\n        );\r\n\r\n        return (\r\n            <div className='window'>\r\n                <Block title={`${author.name} asks`}\r\n                       imageInfo={{url: author.avatarURL, alt: author.name}}\r\n                       innerContent={choice ? questionPoll() : questionAnswer()}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps({questions, users, authedUser}, {match}) {\r\n    if (authedUser === null) return {authedUser: null};\r\n    const {id} = match.params;\r\n    const question = questions[id];\r\n    if (!question) return {authedUser, question: null};\r\n\r\n    const author = users[question.author];\r\n    const choice = findPick(question, authedUser);\r\n    return {\r\n        question,\r\n        author,\r\n        choice,\r\n        authedUser\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps)(Question);","import React, {Component} from 'react';\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport Block from \"./Block\";\r\nimport {handleAddQuestion} from \"../actions/questions\";\r\n\r\nclass NewQuestion extends Component {\r\n    state = {\r\n        optionOneText: '',\r\n        optionTwoText: ''\r\n    };\r\n    updateOptionOne = (e) => (this.setState({optionOneText: e.target.value}));\r\n    updateOptionTwo = (e) => (this.setState({optionTwoText: e.target.value}));\r\n    noneEmpty = () => (this.state.optionOneText.trim() && this.state.optionTwoText.trim());\r\n\r\n    onClick = (e) => {\r\n        e.preventDefault();\r\n        const {authedUser, history} = this.props;\r\n        const {optionOneText, optionTwoText} = this.state;\r\n        const callback = (id) => history.push(`/q/${id}`);\r\n        this.props.dispatch(handleAddQuestion({author: authedUser, optionOneText, optionTwoText, callback}));\r\n    };\r\n\r\n    render() {\r\n        const {authedUser} = this.props;\r\n        if (!authedUser) return <Redirect to={{pathname: '/login', state: this.props.location}}/>;\r\n\r\n        const {optionOneText, optionTwoText} = this.state;\r\n        return (\r\n            <div className=\"window\">\r\n                <Block title=\"Create New Question\" innerContent={\r\n                    <form>\r\n                        <h3>Would you rather...</h3>\r\n                        <input className=\"block-input\" type=\"text\" onChange={this.updateOptionOne} value={optionOneText}\r\n                               placeholder=\"Enter first option here\"/>\r\n                        <p className='block-content-center'>Or</p>\r\n                        <input className=\"block-input\" type=\"text\" onChange={this.updateOptionTwo} value={optionTwoText}\r\n                               placeholder=\"Enter first option here\"/>\r\n                        <button onClick={this.onClick} disabled={!this.noneEmpty()}\r\n                                className='block-content-button'>Submit\r\n                        </button>\r\n                    </form>\r\n                }/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(({authedUser}) => ({authedUser}))(NewQuestion));","import React, {Component, Fragment} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Block from \"./Block\";\r\nimport {nth} from \"../utils/helper\";\r\n\r\nclass Leaderboard extends Component {\r\n    render() {\r\n        const {userIds, users} = this.props;\r\n        return (\r\n            <div className=\"window\">\r\n                <ol className='view-block'>\r\n\r\n                    {userIds.map((id, i) => {\r\n                        const user = users[id];\r\n                        const answers = Object.keys(user.answers).length;\r\n                        const questions = user.questions.length;\r\n\r\n                        return (\r\n                            <li key={id}>\r\n                                <Block centerTitle corner={nth(i + 1)} imageInfo={{url: user.avatarURL, alt: user.name}}\r\n                                       title={user.name}\r\n                                       innerContent={\r\n                                           <Fragment>\r\n                                               <div>Answered Questions: {answers}</div>\r\n                                               <div>Created Questions: {questions}</div>\r\n                                               <div>Total Score: {answers + questions}</div>\r\n                                           </Fragment>\r\n                                       }/>\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ol>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps({users}) {\r\n    let userIds = Object.keys(users);\r\n\r\n    const score = (user) => (user.questions.length + Object.keys(user.answers).length);\r\n\r\n    userIds.sort((a, b) => score(users[b]) - score(users[a]));\r\n\r\n    return {\r\n        userIds,\r\n        users\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Leaderboard);","import React, {Component} from 'react';\r\n\r\nclass NotFound extends Component{\r\n    render(){\r\n        return (\r\n            <div className=\"window\">\r\n                <div className=\"error-404\">404</div>\r\n                <div className=\"error-note\">That's sad!</div>\r\n                <div className=\"error-msg\">The page you are looking for doesn't exist, or is unavailable</div>\r\n                {/*<button className=\"block-content-button\">Go to Homepage</button>*/}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NotFound;","import {hideLoading, showLoading} from \"react-redux-loading\";\r\nimport {getInitialData} from \"../utils/api\";\r\nimport {receiveUsers} from \"./users\";\r\nimport {receiveQuestions} from \"./questions\";\r\n\r\nexport function handleInitialData() {\r\n    return (dispatch) => {\r\n        dispatch(showLoading());\r\n        getInitialData().then(({users, questions})=>{\r\n            dispatch(receiveUsers(users));\r\n            dispatch(receiveQuestions(questions));\r\n            dispatch(hideLoading());\r\n        }).catch(()=>{\r\n            alert(\"An error occurred, please refresh the page\");\r\n        })\r\n    }\r\n}","export const RECEIVE_USERS = 'RECEIVE_USERS';\r\n\r\nexport function receiveUsers(users) {\r\n    return {\r\n        type: RECEIVE_USERS,\r\n        users,\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {setAuthedUser} from \"../actions/authedUser\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Block from \"./Block\";\r\n\r\nclass Login extends Component {\r\n    state = {\r\n        selected: 'none',\r\n    };\r\n\r\n    login_click = (e) => {\r\n        e.preventDefault();\r\n\r\n        const {selected} = this.state;\r\n        this.props.dispatch(setAuthedUser(selected));\r\n    };\r\n\r\n    select_change = (e) => {\r\n        this.setState({selected: e.target.value});\r\n    };\r\n\r\n    render() {\r\n        const {selected} = this.state;\r\n        const {authedUser} = this.props;\r\n        if (authedUser) return <Redirect to={this.props.location.state || '/'}/>;\r\n\r\n        const {users} = this.props;\r\n        return (\r\n            <div className=\"window\">\r\n                <Block title=\"Login\" centerTitle innerContent={\r\n                    <form onSubmit={this.login_click}>\r\n                        <h3>Login as:</h3>\r\n                        <select className=\"block-input\" value={selected} onChange={this.select_change}>\r\n                            <option value=\"none\" disabled>Select a user</option>\r\n                            {\r\n                                Object.keys(users).map(user =>\r\n                                    <option key={user} value={user}>{users[user].name}</option>\r\n                                )\r\n                            }\r\n                        </select>\r\n                        <button className='block-content-button' disabled={selected === 'none'} type=\"submit\">Login\r\n                        </button>\r\n                    </form>\r\n                }/>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(({users, authedUser}) => ({users, authedUser}))(Login);","import React, {Component, Fragment} from 'react';\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\nimport Nav from './Nav';\nimport Home from './Home';\nimport Question from './Question';\nimport NewQuestion from './NewQuestion';\nimport Leaderboard from './Leaderboard';\nimport NotFound from './NotFound';\nimport {connect} from \"react-redux\";\nimport {handleInitialData} from \"../actions/shared\";\nimport LoadingBar from 'react-redux-loading';\nimport Login from \"./Login\";\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.dispatch(handleInitialData());\n    }\n\n    render() {\n        const {loading} = this.props;\n        return (\n            <BrowserRouter basename={process.env.PUBLIC_URL}>\n                <Fragment>\n                    <LoadingBar/>\n                    <Nav/>\n                    <div className=\"body\">\n                        {!loading && <Switch>\n                            <Route exact path='/' component={Home}/>\n                            <Route path='/q/:id' component={Question}/>\n                            <Route exact path='/add' component={NewQuestion}/>\n                            <Route exact path='/leaderboard' component={Leaderboard}/>\n                            <Route exact path='/login' component={Login}/>\n                            <Route component={NotFound}/>\n                        </Switch>\n                        }\n                    </div>\n                </Fragment>\n            </BrowserRouter>\n        );\n    }\n}\n\nexport default connect(({loadingBar}) => ({loading: loadingBar.default !== 0}))(App);\n","import {combineReducers} from 'redux';\r\nimport authedUser from './authedUser';\r\nimport questions from './questions';\r\nimport users from './users';\r\nimport {loadingBarReducer} from \"react-redux-loading\";\r\n\r\nexport default combineReducers({\r\n    authedUser,\r\n    questions,\r\n    users,\r\n    loadingBar: loadingBarReducer\r\n});","import {SET_AUTHED_USER} from \"../actions/authedUser\";\r\n\r\nexport default function authedUser(state = null, action) {\r\n    switch (action.type) {\r\n        case SET_AUTHED_USER:\r\n            return action.userId;\r\n        default:\r\n            return state;\r\n    }\r\n}","import {ADD_QUESTION, ANSWER_QUESTION, RECEIVE_QUESTIONS} from \"../actions/questions\";\r\n\r\nexport default function questions(state = {}, action) {\r\n    switch(action.type){\r\n        case RECEIVE_QUESTIONS:\r\n            return {...action.questions};\r\n        case ADD_QUESTION:\r\n            return {\r\n                ...state,\r\n                [action.question.id]: action.question\r\n            };\r\n        case ANSWER_QUESTION:\r\n            const {authedUser, qid, answer} = action.info;\r\n            return {\r\n                ...state,\r\n                [qid]: {\r\n                    ...state[qid],\r\n                    [answer]: {\r\n                        ...state[qid][answer],\r\n                        votes: state[qid][answer].votes.concat([authedUser])\r\n                    }\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {RECEIVE_USERS} from \"../actions/users\";\r\nimport {ADD_QUESTION, ANSWER_QUESTION} from \"../actions/questions\";\r\n\r\nexport default function users(state = {}, action) {\r\n    switch (action.type) {\r\n        case RECEIVE_USERS:\r\n            return {...action.users};\r\n        case ADD_QUESTION:\r\n            const {author, id} = action.question;\r\n            return {\r\n                ...state,\r\n                [author]: {\r\n                    ...state[author],\r\n                    questions: state[author].questions.concat([id])\r\n                }\r\n            };\r\n        case ANSWER_QUESTION:\r\n            const {authedUser, qid, answer} = action.info;\r\n            return {\r\n                ...state,\r\n                [authedUser]: {\r\n                    ...state[authedUser],\r\n                    answers: {\r\n                        ...state[authedUser].answers,\r\n                        [qid]: answer\r\n                    }\r\n                }\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {applyMiddleware} from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport logger from \"./logger\";\r\n\r\nexport default applyMiddleware(thunk, logger);","export default (store) => (next) => (action) => {\r\n    console.group(action.type);\r\n    console.log(\"The action:\", action);\r\n    const returnValue = next(action);\r\n    console.log(\"The new state:\", store.getState());\r\n    console.groupEnd();\r\n    return returnValue;\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport {createStore} from \"redux\";\nimport reducer from \"./reducers\";\nimport middleware from \"./middleware\";\nimport {Provider} from \"react-redux\";\nimport './index.css'\nimport registerServiceWorker from \"./utils/registerServiceWorker\";\n\nconst store = createStore(reducer, middleware);\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>\n    ,\n    document.getElementById('root')\n);\nregisterServiceWorker();","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n      navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n          registration.onupdatefound = () => {\r\n            const installingWorker = registration.installing;\r\n            installingWorker.onstatechange = () => {\r\n              if (installingWorker.state === 'installed') {\r\n                if (navigator.serviceWorker.controller) {\r\n                  // At this point, the old content will have been purged and\r\n                  // the fresh content will have been added to the cache.\r\n                  // It's the perfect time to display a \"New content is\r\n                  // available; please refresh.\" message in your web app.\r\n                  console.log('New content is available; please refresh.');\r\n                } else {\r\n                  // At this point, everything has been precached.\r\n                  // It's the perfect time to display a\r\n                  // \"Content is cached for offline use.\" message.\r\n                  console.log('Content is cached for offline use.');\r\n                }\r\n              }\r\n            };\r\n          };\r\n        })\r\n        .catch(error => {\r\n          console.error('Error during service worker registration:', error);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}